<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Objects {}</title>
  <!-- Mocha, Chai and Sinon libs -->
  <script src="../Libs/chai-mocha-sinon.js"></script>
  <!-- Unit tests -->
  <script src="../Unit-tests/Data structures/ut-objects.js"></script>
</head>
<body>
  <script>
    /* Task 1 */
    // Мини-задача на синтаксис объектов. Напишите код, по строке на каждое действие.
    //
    // 1. Создайте пустой объект user.
    var user = new Object();
    // 2. Добавьте свойство name со значением Вася.
    user.name = "Вася";
    // 3. Добавьте свойство surname со значением Петров.
    user["surname"] = "Петров";
    // 4. Поменяйте значение name на Сергей.
    user.name = "Сергей";
    // 5. Удалите свойство name из объекта.
    delete user["name"];
    /* <--end--> */

    /* Task 2 */
    // Создайте функцию isEmpty(obj),
    // которая возвращает true, если в объекте нет свойств
    // и false – если хоть одно свойство есть.
    function isEmpty(obj) {
      var counter = 0;

      for (var key in obj) {
        return false;
      }

      return true;
      /* Old solution ='(
        for (key in obj) {
          counter++;
        }

        if (counter) {
          return false;
        } else {
          return true;
        }
      <--end--> */
    }
    /* <--end--> */

    /* Task 3 */
    // Есть объект salaries с зарплатами.
    // Напишите код, который выведет сумму всех зарплат.
    // Если объект пустой, то результат должен быть 0.
    function getSalariesTotalSum(employeesObject) {
      var totalSum = 0;

      for (var key in employeesObject) {
        totalSum += employeesObject[key];
      }

      return totalSum;
    }
    /* <--end--> */

    /* Task 4 */
    // Есть объект salaries с зарплатами.
    // Напишите код, который выведет имя сотрудника, у которого самая большая зарплата.
    // Если объект пустой, то пусть он выводит «нет сотрудников».
    function getBiggestSalary(employeesObject) {
      var maxValue = 0, nameOfEmployee = 0;

      for (var key in employeesObject) {

        if (maxValue < employeesObject[key]) {
          maxValue = employeesObject[key];
          nameOfEmployee = key;
        } else {
          continue;
        }
      }

      return nameOfEmployee || "no employees";
    }
    /* <--end--> */

    /* Task 5 */
    // Создайте функцию multiplyNumeric,
    // которая получает объект и умножает все численные свойства на 2.
    // P.S.: смотреть тестовые данные в файле: 'ut-objeects.js'
    function multiplyNumeric(obj) {

      for (var key in obj) {

        if (isNumeric(obj[key])) {
          obj[key] *= 2;
        }
        /* no need this part:
          else {
            continue;
          }
        */
      }

      return obj;
    }
    // Функция для проверки "на число"
    function isNumeric(n) {
      return !isNaN(parseFloat(n)) && isFinite(n)
    }
  </script>
</body>
</html>
